# 数独神器（sudoku）

## 简介

```
这是一款自动解是数独的程序，可以解决所有标准的9*9数独问题
该程序使用了10大算法（9个基本算法+递归试错，后面有介绍），试错法只会在前九个算法失效的情况下才会使用，所以，该程序是高效的（运行过一些17字数独，可以秒出结果）

（
如果你觉得9个基础算法太少，也可以自行增加，你唯一需要获取到的对象是data.Data对象，获取方式为Utils.tlData.get()
注意：在新增基础算法之前，请先关闭递归试错法，关闭方式见后面的“怎么玩->修改配置文件”。然后根据程序运行结果，先手动使用需要新增的算法，只有在确保该算法对数独问题的解决有推进作用才有意义
）
```

## 设计思路

```
使用程序解数独和人工解数独有很大的不同，该程序利用计算机的优势，所有的算法都基于一个核心：候选数

解数独的算法可以分为两类：1、摒除法和2、唯一法
摒除法：为了减少单元格的候选数
唯一法：可以唯一确定单元格的值
改程序首先运行算法的顺序为：唯一法-》摒除法-》唯一法这样的一个循环。当一个回合下来，这些基础算法并未对解决数独问题有所贡献，就会加入递归试错算法：试错法-》唯一法-》摒除法-》唯一法

改程序的递归是跨类递归，并采用类变量的方式来控制递归流程（类名：Probe），就像对于多线程的程序而言，需要跨方法传递参数时，可以使用静态的ThreadLocal对象一样

递归的过程涉及深拷贝，本程序采用的是序列化和反序列化的方式

支持配置是否查看解题过程，如果是，会将整个过程输出到一个txt文件中，请使用notepad++来打开这个文件，而不要使用windows自带的txt编辑器来查看（下标从1开始）
```

## 算法

```
算法描述可以查看百度百科的数独技巧：https://baike.baidu.com/item/%E6%95%B0%E7%8B%AC%E6%8A%80%E5%B7%A7/3533466?fr=aladdin
或者可以下载全民数独这个APP，帮助信息里面有数独技巧描述

可以两者结合来看
```

### 1、显式唯一候选者算法

```
对应程序中的arithmetic.base.BaseArithmetic类

打印输出的格式：
第36步、(2,3)=3, (显式唯一候选者算法)
```

### 2、隐式唯一候选者算法

```
对应程序中的arithmetic.recessiveUniqueCandidate.RUCM类

打印输出的格式：
第7步、(9,8)=9, (隐式唯一候选者算法)
```

### 3、候选数对删减法(显式)

```
对应程序中的arithmetic.candidatePairSubtraction.ExplicitCPS类

打印输出的格式：
第8步、相关单元格：[(2,6), (2,5)], 候选数：[4, 9], 方向：行, (候选数对删减法(显式))
注：方向表示符合条件的数对出现在同一行/同一列/同一个小九宫格
```

### 4、候选数对删减法(隐式)

```
对应程序中的arithmetic.candidatePairSubtraction.ExplicitCPS类

打印输出的格式：
第8步、相关单元格：[(2,6), (2,5)], 候选数：[4, 9], (候选数对删减法(隐式))
注：方向表示：符合条件的数对出现在同一行/同一列/同一个小九宫格
```

### 5、区块摒除法

```
对应程序中的arithmetic.lockedCandidates.LC类

打印输出的格式：
第13步、相关单元格：[(1,1), (1,2), (1,3)], 候选数：4, 区块：行/列, 方向：小九宫格, (区块摒除法)
注：方向表示：相关单元格出现在同一行/同一列/同一个小九宫格
区块表示：需要处理的方向
```

### 6、剑鱼算法（三链列删减法）

```
对应程序中的arithmetic.swordfish.Swordfish类

打印输出的格式：
第113步、相关单元格：[(7,2), (6,1), (8,2), (7,5), (8,1), (6,2), (8,5)], 候选数：3, 方向：列, (三链列删减法)
注：方向表示：候选数在该方向上只出现在相关单元格中
```

### 7、三链数删减法(显式)

```
对应程序中的arithmetic.threeChainDeletion.ExplicitTCD类

打印输出的格式：
第114步、相关单元格：[(9,5), (9,1), (9,2)], 候选数：[2, 4, 5], 方向：行, (三链数删减法(显式))
注：方向表示：相关单元格出现在同一行/同一列/同一个小九宫格
```

### 8、三链数删减法(隐式)

```
对应程序中的arithmetic.threeChainDeletion.ImplicitTCD类

打印输出的格式：
第114步、相关单元格：[(9,5), (9,1), (9,2)], 候选数：[2, 4, 5],  (三链数删减法(隐式))
```

### 9、四角对角线法则/矩形删除法（X-Wing）

```
对应程序中的arithmetic.xWing.XWing类

打印输出的格式：
第69步、相关单元格：[(2,1), (2,2), (9,1), (9,2)], 候选数：2, 方向：列, (矩形删除法)
注：方向表示：候选数在该方向上只出现在相关单元格中
```

### 10、递归试错法

```
对应程序中的arithmetic.recursionTry.RecursionTry类

相关打印输出的格式：
	RecursionTry.....before
	第93步、开始进行递归试错，(1,1)尝试赋值为1, (递归试错法)
	(1,2)的值可能并不等于4, 需要尝试其他候选值，如果候选值已全部被尝试，程序会返回上一个递归入口的单元格，并尝试对应单元格的其他候选值
	RecursionTry.....after
	这是试错的最大次数=64：因为数独至少有17个已知数，81-17=64，如果还没有得出答案，表示数独数据有问题，请检查！！
```

## 怎么玩

```
目前只能通过将代码下载到本地，再使用一款IDE打开，然后运行SudokuMain.main方法。在运行该方法之前，有些准备工作如下：
```

### 1、修改配置文件

```
请在C:\sudoku\目录下创建config.properties文件，内容如下
data.path=F:\\zehua\\pictures\\数独\\数据\\隐士\\data.txt
recursion.dir=F:\\zehua\\pictures\\数独\\数据\\recursion\\
using.recursion.try=true
print.step=false
print.sudoku.detail=false
step.sudoku.detail.file.path=F:\\zehua\\pictures\\数独\\step\\resolve.txt

解释：
data.path：表示数独数据文件
recursion.dir：表示在进行递归时，序列化生成的文件所放置的目录
using.recursion.try：是否运行递归试错法（默认运行）
print.step：是否需要打印解题步骤（默认不打印）
print.sudoku.detail：是否打印解题步骤，包括当前数独的实际情况（如果print.step设置为false，该配置项不生效）
step.sudoku.detail.file.path：解题步骤保存的文件
```

### 2、输入数独数据

```
数独的数据是从配置文件的data.path路径下读取的，未知单元格请使用_下划线表示，例如
_5_____2_
4__2_6__7
__8_3_1__
_1_____6_
__9___5__
_7_____9_
__5_8_3__
7__9_1__4
_2_____7_
```

## 数据示例

### 1、一般难

```
全民数独APP-》大师-》第28题
____276__
__7_95___
___8_____
___2_3___
1_5_____9
6___14__3
__2__841_
___4____2
7______38

答案：
5 8 1 3 2 7 6 9 4 
3 4 7 6 9 5 8 2 1 
2 9 6 8 4 1 3 7 5 
4 7 9 2 5 3 1 8 6 
1 3 5 7 8 6 2 4 9 
6 2 8 9 1 4 7 5 3 
9 6 2 5 3 8 4 1 7 
8 1 3 4 7 9 5 6 2 
7 5 4 1 6 2 9 3 8 
```

### 2、很难

```
全民数独APP-》隐士-》第1题
____635_2
___7_____
__7215__9
61__2_8_7
__2____3_
__5_8_6__
9_______5
_______8_
__6___7__

答案：
1 9 4 8 6 3 5 7 2 
5 2 3 7 4 9 1 6 8 
8 6 7 2 1 5 3 4 9 
6 1 9 3 2 4 8 5 7 
4 8 2 5 7 6 9 3 1 
7 3 5 9 8 1 6 2 4 
9 7 8 6 3 2 4 1 5 
3 5 1 4 9 7 2 8 6 
2 4 6 1 5 8 7 9 3
```

### 3、非常难

```
全民数独APP-》国手-》第1题
_8____6__
___4____9
_7____8_5
4________
_3__6__9_
___72_1__
_932___64
81_3_____
_____5___

答案：
3 8 9 1 5 7 6 4 2 
5 2 6 4 8 3 7 1 9 
1 7 4 6 9 2 8 3 5 
4 5 1 8 3 9 2 7 6 
2 3 7 5 6 1 4 9 8 
9 6 8 7 2 4 1 5 3 
7 9 3 2 1 8 5 6 4 
8 1 5 3 4 6 9 2 7 
6 4 2 9 7 5 3 8 1
```

### 4、17字数独

```
出自欧泊颗数独-》骨灰级，https://www.oubk.com/sudoku/17sudoku-3x3-0.html?level=5
_37_2____
__4___6__
_________
_4_5_____
6_____1__
____7__3_
___4___7_
___6_1___
5_______8

答案：
1 3 7 9 2 6 8 5 4 
8 9 4 7 1 5 6 2 3 
2 6 5 3 4 8 7 1 9 
7 4 1 5 6 3 9 8 2 
6 5 3 8 9 2 1 4 7 
9 2 8 1 7 4 5 3 6 
3 8 6 4 5 9 2 7 1 
4 7 2 6 8 1 3 9 5 
5 1 9 2 3 7 4 6 8
```

## 邮箱

```
891393221@qq.com
```

